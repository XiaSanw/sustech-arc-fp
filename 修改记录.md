# ä¿®æ”¹è®°å½•

---

## ğŸ“– è®­ç»ƒæ—¥å¿—å‚æ•°æ‰‹å†Œ

### æ ¸å¿ƒæ€§èƒ½æŒ‡æ ‡

| å‚æ•° | å«ä¹‰ | å½“å‰ç›®æ ‡ | è¯´æ˜ |
|------|------|---------|------|
| **Mean episode length** | æœºå™¨äººå­˜æ´»çš„å¹³å‡æ­¥æ•° | **800-1000æ­¥** | æœ€å¤§1000æ­¥=20ç§’ï¼Œ<100è¯´æ˜å¿«é€Ÿæ‘”å€’ |
| **Mean reward** | æ€»å¥–åŠ±å¹³å‡å€¼ | **8-20** | è´Ÿæ•°æ­£å¸¸ï¼ˆæƒ©ç½šå¤šï¼‰ï¼Œè®­ç»ƒååº”ä¸ºæ­£ |
| **Value function loss** | ä»·å€¼å‡½æ•°é¢„æµ‹è¯¯å·® | **<1.0** | çªç„¶>1000è¯´æ˜è®­ç»ƒå´©æºƒ |

### é€Ÿåº¦è·Ÿè¸ªæŒ‡æ ‡ï¼ˆä»»åŠ¡2.2ï¼‰

| å‚æ•° | å«ä¹‰ | ç›®æ ‡ | æƒé‡ |
|------|------|------|------|
| **error_vel_xy** | XYå¹³é¢é€Ÿåº¦è¯¯å·® [m/s] | **<0.6** | - |
| **error_vel_yaw** | è½¬å‘è§’é€Ÿåº¦è¯¯å·® [rad/s] | **<0.3** | - |
| **rew_lin_vel_xy** | é€Ÿåº¦è·Ÿè¸ªå¥–åŠ± | è¶Šå¤§è¶Šå¥½ | 3.5 |
| **rew_ang_vel_z** | è§’é€Ÿåº¦è·Ÿè¸ªå¥–åŠ± | è¶Šå¤§è¶Šå¥½ | 1.5 |

### é²æ£’æ€§æŒ‡æ ‡ï¼ˆä»»åŠ¡2.3ï¼‰

| å‚æ•° | å«ä¹‰ | ç›®æ ‡ | æƒé‡ |
|------|------|------|------|
| **pen_flat_orientation** | å§¿æ€å€¾æ–œæƒ©ç½š | æ¥è¿‘0 | -20.0 |
| **pen_base_height** | åŸºåº§é«˜åº¦åç¦»æƒ©ç½š | æ¥è¿‘0 | -20.0 |
| **pen_ang_vel_xy** | Roll/Pitchæ—‹è½¬æƒ©ç½š | æ¥è¿‘0 | -0.15 |
| **Episode_Termination/base_contact** | æ‘”å€’æ¬¡æ•° | **æ¥è¿‘0** | - |

### ç»ˆæ­¢æ¡ä»¶åˆ†æ

| å‚æ•° | å«ä¹‰ | è®­ç»ƒåˆæœŸ | è®­ç»ƒæˆåŠŸå |
|------|------|---------|-----------|
| **base_contact** | åŸºåº§è§¦åœ°æ‘”å€’æ¬¡æ•° | é«˜ï¼ˆ>100ï¼‰ | **æ¥è¿‘0** |
| **time_out** | å®Œæ•´è·‘å®Œ20ç§’æ¬¡æ•° | 0 | **æ¥è¿‘4096** |

**å…³é”®åˆ¤æ–­**ï¼š
- `Episode length < 100` + `base_contact > 100` = æœºå™¨äººå¿«é€Ÿæ‘”å€’
- `Episode length > 900` + `time_out > 3000` = è®­ç»ƒæˆåŠŸï¼

### å…¶ä»–æƒ©ç½šé¡¹

| å‚æ•° | å«ä¹‰ | æƒé‡ | è¯´æ˜ |
|------|------|------|------|
| pen_lin_vel_z | å‚ç›´é€Ÿåº¦æƒ©ç½š | -0.5 | é˜²æ­¢è·³è·ƒ |
| pen_joint_torque | å…³èŠ‚åŠ›çŸ©L2æƒ©ç½š | -0.00008 | èŠ‚èƒ½ |
| pen_joint_accel | å…³èŠ‚åŠ é€Ÿåº¦æƒ©ç½š | -2.5e-07 | å¹³æ»‘è¿åŠ¨ |
| pen_action_rate | åŠ¨ä½œå˜åŒ–ç‡æƒ©ç½š | -0.002 | é˜²æ­¢æŠ–åŠ¨ |
| pen_action_smoothness | åŠ¨ä½œå¹³æ»‘æ€§æƒ©ç½š | -0.002 | åŒä¸Š |
| pen_feet_distance | è¶³éƒ¨è·ç¦»æƒ©ç½š | -10.0 | é˜²æ­¢åŒè„šé å¤ªè¿‘ |
| pen_undesired_contacts | éè¶³éƒ¨æ¥è§¦æƒ©ç½š | -0.5 | é˜²æ­¢è†ç›–/å¤§è…¿ç€åœ° |
| pen_feet_regulation | è¶³éƒ¨ä½ç½®è°ƒèŠ‚ | -0.1 | ä¿æŒåˆç†æ­¥å¹… |
| foot_landing_vel | è¶³éƒ¨ç€é™†é€Ÿåº¦ | -0.5 | è½»æŸ”è½åœ° |
| test_gait_reward | æ­¥æ€å¥–åŠ± | 1.0 | å¥–åŠ±æ­£ç¡®çš„æ­¥æ€æ¨¡å¼ |

### è®­ç»ƒè¿›åº¦ä¼°ç®—

**Episode Lengthè¿›å±•å‚è€ƒ**ï¼š
- **è¿­ä»£0-500**ï¼š10-100æ­¥ï¼ˆå­¦ä¹ åŸºç¡€å¹³è¡¡ï¼‰
- **è¿­ä»£500-1500**ï¼š100-500æ­¥ï¼ˆå­¦ä¹ è¡Œèµ°å’Œæ­¥æ€ï¼‰
- **è¿­ä»£1500-2500**ï¼š500-900æ­¥ï¼ˆä¼˜åŒ–é²æ£’æ€§å’Œé€Ÿåº¦ï¼‰
- **è¿­ä»£2500-3000**ï¼š900-1000æ­¥ï¼ˆå¾®è°ƒï¼Œæ¥è¿‘å®Œç¾ï¼‰

**Mean Rewardè¿›å±•å‚è€ƒ**ï¼š
- **è¿­ä»£0-500**ï¼šè´Ÿå€¼ï¼ˆ-10åˆ°-1ï¼‰
- **è¿­ä»£500-1500**ï¼šæ¥è¿‘0ï¼ˆ-2åˆ°5ï¼‰
- **è¿­ä»£1500-3000**ï¼šæ­£å€¼ï¼ˆ5åˆ°20ï¼‰

---

## 03 - Demoç¯å¢ƒå¤–åŠ›é…ç½®ä¿®æ­£ï¼ˆ2026-01-07ï¼‰

### é—®é¢˜ç°è±¡
- ä½¿ç”¨è¿­ä»£1513çš„æ¨¡å‹åœ¨Demoç¯å¢ƒæµ‹è¯•æ—¶ï¼Œæœºå™¨äººå—åˆ°å¤–åŠ›æ¨åŠ¨åé¢‘ç¹æ‘”å€’åˆ·æ–°
- 60ç§’è§†é¢‘ä¸­æœºå™¨äººå‡ ä¹æ¯æ¬¡å—åŠ›éƒ½ä¼šå€’åœ°
- è®­ç»ƒæ—¥å¿—æ˜¾ç¤ºæ¨¡å‹å·²å­¦ä¹ è‰¯å¥½ï¼ˆEpisode length 975-998æ­¥ï¼Œbase_contactä»…0.08-0.17ï¼‰ï¼Œä½†Demoæµ‹è¯•æ•ˆæœå·®

### æ ¹æœ¬åŸå› 

**è®­ç»ƒä¸æµ‹è¯•ç¯å¢ƒä¸åŒ¹é…**ï¼š

| ç¯å¢ƒ | å¤–åŠ›é—´éš” | è§¦å‘æ¦‚ç‡ | 20ç§’å†…æ¨åŠ›æ¬¡æ•° | é…ç½®æ–‡ä»¶ |
|------|---------|---------|---------------|---------|
| **è®­ç»ƒç¯å¢ƒ** | 4-6ç§’ | 60% | çº¦2-3æ¬¡ | `limx_base_env_cfg.py` |
| **Demoç¯å¢ƒ** | 2-3ç§’ | 90% | çº¦8æ¬¡ | `limx_pointfoot_env_cfg.py` |

**é—®é¢˜åˆ†æ**ï¼š
1. Demoç¯å¢ƒçš„å¤–åŠ›é¢‘ç‡æ˜¯è®­ç»ƒç¯å¢ƒçš„**3å€**
2. æœºå™¨äººå­¦ä¼šåº”å¯¹"æ¯20ç§’2-3æ¬¡æ¨åŠ›"ï¼Œä½†é¢å¯¹"æ¯20ç§’8æ¬¡æ¨åŠ›"æ—¶æ— æ³•æ¢å¤
3. ç´¯ç§¯çš„å§¿æ€åå·®å¯¼è‡´æœºå™¨äººåœ¨é«˜é¢‘æ¨åŠ›ä¸‹æœ€ç»ˆæ‘”å€’
4. è¿™ä¸æ˜¯æ¨¡å‹èƒ½åŠ›ä¸è¶³ï¼Œè€Œæ˜¯**æµ‹è¯•æ¡ä»¶è¿œè¶…è®­ç»ƒæ¡ä»¶**

### è§£å†³æ–¹æ¡ˆï¼šDemoç¯å¢ƒé…ç½®åŒ¹é…è®­ç»ƒç¯å¢ƒ

#### æ–‡ä»¶ä½ç½®
`exts/bipedal_locomotion/bipedal_locomotion/tasks/locomotion/robots/limx_pointfoot_env_cfg.py`

#### ä¿®æ”¹å†…å®¹

**PFBlindFlatDemoEnvCfgç±»ï¼ˆç¬¬273-286è¡Œï¼‰**ï¼š

```python
# ä¿®æ”¹å‰ï¼šè¿‡äºæ¿€è¿›çš„æµ‹è¯•é…ç½®
# å¢å¼ºå¤–åŠ›æ¨åŠ¨çš„å¯è§æ€§ / Enhance visibility of external forces
self.events.push_robot.interval_range_s = (2.0, 3.0)  # æ›´é¢‘ç¹ï¼š2-3ç§’
self.events.push_robot.params["probability"] = 0.9    # æ›´é«˜æ¦‚ç‡ï¼š90%
# å¤–åŠ›å¤§å°ï¼šç»§æ‰¿è®­ç»ƒç¯å¢ƒçš„300N

# ä¿®æ”¹åï¼šé€‚ä¸­å¼ºåº¦çš„å±•ç¤ºé…ç½®
# å¤–åŠ›æ¨åŠ¨é…ç½®ï¼ˆé€‚ä¸­å¼ºåº¦ç”¨äºå±•ç¤ºï¼‰ / External force configuration (moderate intensity for demonstration)
self.events.push_robot.interval_range_s = (4.0, 6.0)  # åŒ¹é…è®­ç»ƒï¼š4-6ç§’
self.events.push_robot.params["probability"] = 0.6    # åŒ¹é…è®­ç»ƒï¼š60%
# é™ä½æ¨åŠ›å¼ºåº¦ä»¥æ›´å¥½å±•ç¤ºæŠ—å¹²æ‰°èƒ½åŠ› / Reduce force intensity for better demonstration
self.events.push_robot.params["force_range"] = {
    "x": (-250.0, 250.0),  # 250Nï¼ˆæ¯”è®­ç»ƒç¯å¢ƒçš„300Nç•¥ä½ï¼‰
    "y": (-250.0, 250.0),
    "z": (0.0, 0.0),
}
self.events.push_robot.params["torque_range"] = {
    "x": (-29.0, 29.0),    # ç›¸åº”é™ä½åŠ›çŸ©ï¼ˆ250/300 * 35 â‰ˆ 29ï¼‰
    "y": (-29.0, 29.0),
    "z": (0.0, 0.0),
}
```

---

### é…ç½®å¯¹æ¯”æ€»ç»“

| é¡¹ç›® | åŸå§‹é…ç½® | ç¬¬ä¸€æ¬¡ä¿®æ”¹ | æœ€ç»ˆé…ç½® | è¯´æ˜ |
|------|---------|-----------|---------|------|
| `push_robot.interval` | (2.0, 3.0)s | (4.0, 6.0)s | **(4.0, 6.0)s** | åŒ¹é…è®­ç»ƒç¯å¢ƒ |
| `push_robot.probability` | 90% | 60% | **60%** | åŒ¹é…è®­ç»ƒç¯å¢ƒ |
| `push_robot.force` | 300N | 300N | **250N** | â­ é™ä½17%ï¼Œæ›´é€‚åˆå±•ç¤º |
| `push_robot.torque` | 35Nâ‹…m | 35Nâ‹…m | **29Nâ‹…m** | æŒ‰æ¯”ä¾‹é™ä½ |
| 60ç§’å†…é¢„æœŸæ¨åŠ› | çº¦22æ¬¡ | çº¦7æ¬¡ | **çº¦7æ¬¡** | é¢‘ç‡åˆç† |
| æ¨åŠ›å¼ºåº¦ | ä¸­ç­‰ | ä¸­ç­‰ | **ä¸­ç­‰åä½** | å±•ç¤ºèƒ½åŠ›è€Œéæé™ |

**ä¿®æ”¹åŸå› **ï¼š
- ç¬¬ä¸€æ¬¡ä¿®æ”¹ï¼ˆåŒ¹é…è®­ç»ƒé¢‘ç‡ï¼‰åä»ç„¶è·Œå€’ â†’ è¯´æ˜300Næ¨åŠ›å¯¹å½“å‰æ¨¡å‹ä»æœ‰æŒ‘æˆ˜
- é™ä½åˆ°250Nï¼ˆçº¦25 m/sÂ² â‰ˆ 2.5gï¼‰æ›´é€‚åˆå±•ç¤ºæŠ—å¹²æ‰°èƒ½åŠ›
- è®­ç»ƒç¯å¢ƒä»ä¿æŒ300Nï¼ŒæŒç»­æå‡é²æ£’æ€§

---

### é¢„æœŸæ•ˆæœ

**ä¿®æ”¹åçš„Demoæµ‹è¯•**ï¼š
- âœ… å¤–åŠ›é¢‘ç‡ä¸è®­ç»ƒç¯å¢ƒä¸€è‡´ï¼ˆ4-6ç§’é—´éš”ï¼Œ60%æ¦‚ç‡ï¼‰
- âœ… å¤–åŠ›å¼ºåº¦é€‚ä¸­ï¼ˆ250Nï¼Œæ¯”è®­ç»ƒçš„300Nç•¥ä½17%ï¼‰
- âœ… 60ç§’è§†é¢‘ä¸­é¢„æœŸçº¦7æ¬¡æ¨åŠ›ï¼Œæœºå™¨äººåº”èƒ½æ‰¿å—å¤§éƒ¨åˆ†æ¨åŠ›
- âœ… å±•ç¤ºæœºå™¨äººå½“å‰é˜¶æ®µçš„çœŸå®æŠ—å¹²æ‰°èƒ½åŠ›

**æˆåŠŸæ ‡å‡†**ï¼š
- 60ç§’å†…è‡³å°‘5-6æ¬¡æ¨åŠ›åä»ä¿æŒç«™ç«‹
- è¢«æ¨å€’ç‡ <20%
- å±•ç¤ºå‡ºæ˜æ˜¾çš„å§¿æ€æ¢å¤è¡Œä¸º

**ç‰©ç†å¼ºåº¦å¯¹æ¯”**ï¼š
- 250N Ã· 10kg = 25 m/sÂ² â‰ˆ 2.5å€é‡åŠ›åŠ é€Ÿåº¦
- ç›¸å½“äºæœºå™¨äººæ‰¿å—è‡ªèº«é‡é‡2.5å€çš„ä¾§å‘æ¨åŠ›
- å·²æ˜¯ä¸­ç­‰å¼ºåº¦æµ‹è¯•ï¼ˆå­¦æœ¯ç•Œæ ‡å‡†ï¼š200-400Nï¼‰

---

### æµ‹è¯•å»ºè®®

**é‡æ–°å½•åˆ¶Demoè§†é¢‘**ï¼š
```bash
python scripts/rsl_rl/play.py \
    --task Isaac-Limx-PF-Blind-Flat-Demo-v0 \
    --num_envs 4 \
    --video \
    --video_length 1000
```

**è§‚å¯Ÿè¦ç‚¹**ï¼š
1. æœºå™¨äººè¢«æ¨åèƒ½å¦åœ¨1-2æ­¥å†…æ¢å¤å§¿æ€
2. è¿ç»­æ¨åŠ›ä¸‹æ˜¯å¦èƒ½ä¿æŒç«™ç«‹
3. å¯¹æ¯”ä¿®æ”¹å‰åçš„æ‘”å€’é¢‘ç‡

---

### å…³é”®ç»“è®º

**è®­ç»ƒæ•°æ®éªŒè¯æ¨¡å‹æœ‰æ•ˆæ€§**ï¼š
- è¿­ä»£0: base_contact=137.7ï¼ˆå¿«é€Ÿæ‘”å€’ï¼‰
- è¿­ä»£1513: base_contact=0.08-0.17ï¼ˆå‡ ä¹ä¸æ‘”å€’ï¼‰
- **è®­ç»ƒç¡®å®æœ‰æ•ˆï¼**

**é—®é¢˜ä¸åœ¨æ¨¡å‹ï¼Œåœ¨æµ‹è¯•é…ç½®**ï¼š
- Demoç¯å¢ƒåŸé…ç½®ï¼ˆ2-3ç§’/90%ï¼‰ç›¸å½“äº"å‹åŠ›æµ‹è¯•"
- ä¿®æ­£åé…ç½®ï¼ˆ4-6ç§’/60%ï¼‰æ‰æ˜¯"çœŸå®èƒ½åŠ›å±•ç¤º"

---

## 01 - ä»»åŠ¡2.3 æŠ—å¹²æ‰°é²æ£’æ€§è®­ç»ƒé…ç½®ï¼ˆ2026-01-07ï¼‰

### é—®é¢˜ç°è±¡
- ä½¿ç”¨ä¹‹å‰è®­ç»ƒçš„æ¨¡å‹æµ‹è¯•ä»»åŠ¡2.3æ—¶ï¼Œæœºå™¨äººä¸€è¢«æ–½åŠ å¤–åŠ›å°±å…¨éƒ¨å¿«é€Ÿè·Œå€’é£å‡ºå»
- æ¨¡å‹å®Œå…¨æ²¡æœ‰æŠ—å¹²æ‰°èƒ½åŠ›

### æ ¹æœ¬åŸå› 
1. è®­ç»ƒæ—¶å¤–åŠ›é…ç½®ä¸è¶³ï¼š
   - å¤–åŠ›é—´éš” `interval_range_s=(5.0, 10.0)` å¤ªé•¿
   - è§¦å‘æ¦‚ç‡ `probability=0.3` å¤ªä½
   - å®é™…è®­ç»ƒä¸­å¾ˆå°‘è¢«æ¨ï¼Œæ²¡æœ‰å­¦ä¼šæŠ—å¹²æ‰°

2. å¥–åŠ±æƒé‡é…ç½®é—®é¢˜ï¼š
   - é€Ÿåº¦è·Ÿè¸ªæƒé‡è¿‡é«˜ï¼ˆ`rew_lin_vel_xy=8.0`ï¼‰ï¼Œè¢«æ¨æ—¶ä»ç›²ç›®è¿½é€Ÿåº¦
   - å§¿æ€ç¨³å®šæƒé‡ä¸è¶³ï¼Œæ²¡æœ‰ä¼˜å…ˆæ¢å¤å¹³è¡¡çš„æ¿€åŠ±

### è§£å†³æ–¹æ¡ˆï¼šé’ˆå¯¹ä»»åŠ¡2.3çš„ä¸“é—¨è®­ç»ƒé…ç½®

#### æ–‡ä»¶ä½ç½®
`exts/bipedal_locomotion/bipedal_locomotion/tasks/locomotion/cfg/PF/limx_base_env_cfg.py`

#### æ ¸å¿ƒä¿®æ”¹ç­–ç•¥
- âœ… é™ä½é€Ÿåº¦è·Ÿè¸ªæƒé‡ï¼ˆè¢«æ¨æ—¶ä¼˜å…ˆå¹³è¡¡ï¼Œè€Œéè¿½é€Ÿåº¦ï¼‰
- âœ… å¼ºåŒ–å§¿æ€ç¨³å®šæ€§æƒ©ç½š
- âœ… å…è®¸å¿«é€Ÿååº”ï¼ˆé™ä½åŠ¨ä½œå¹³æ»‘æ€§çº¦æŸï¼‰
- âœ… è®­ç»ƒæ—¶é¢‘ç¹æ–½åŠ å¼ºå¤–åŠ›
- âœ… æŠ˜ä¸­å¤„ç† `pen_feet_distance`ï¼ˆé˜²æ­¢è®­ç»ƒå´©æºƒï¼‰

---

### å…·ä½“é…ç½®ä¿®æ”¹

#### 1. å¥–åŠ±æƒé‡è°ƒæ•´ï¼ˆRewardsCfgç±»ï¼‰

##### é€Ÿåº¦è·Ÿè¸ªï¼ˆé™ä½ä¼˜å…ˆçº§ï¼‰
```python
rew_lin_vel_xy = RewTerm(
    func=mdp.track_lin_vel_xy_exp,
    weight=4.0,  # ä» 8.0 â†’ 4.0
    params={"command_name": "base_velocity", "std": math.sqrt(0.2)}
)

rew_ang_vel_z = RewTerm(
    func=mdp.track_ang_vel_z_exp,
    weight=2.0,  # ä» 4.0 â†’ 2.0
    params={"command_name": "base_velocity", "std": math.sqrt(0.2)}
)
```

##### å§¿æ€ç¨³å®šæ€§ï¼ˆå¼ºåŒ–æ§åˆ¶ï¼‰
```python
pen_flat_orientation = RewTerm(
    func=mdp.flat_orientation_l2,
    weight=-15.0  # ä» -10.0 â†’ -15.0ï¼Œå¼ºåŒ–å§¿æ€æ§åˆ¶
)

pen_ang_vel_xy = RewTerm(
    func=mdp.ang_vel_xy_l2,
    weight=-0.1  # ä» -0.05 â†’ -0.1ï¼Œé™åˆ¶roll/pitchæ—‹è½¬
)

pen_base_height = RewTerm(
    func=mdp.base_com_height,
    params={"target_height": 0.78},
    weight=-15.0,  # ä» -20.0 â†’ -15.0ï¼ˆé€‚ä¸­ï¼‰
)
```

##### å…è®¸å¿«é€Ÿååº”
```python
pen_action_rate = RewTerm(
    func=mdp.action_rate_l2,
    weight=-0.002  # ä» -0.005 â†’ -0.002ï¼Œå…è®¸æ¿€è¿›åŠ¨ä½œ
)

pen_action_smoothness = RewTerm(
    func=mdp.ActionSmoothnessPenalty,
    weight=-0.002  # ä» -0.005 â†’ -0.002
)
```

##### å…³é”®ä¿®æ”¹ï¼šé˜²æ­¢è®­ç»ƒå´©æºƒ
```python
pen_feet_distance = RewTerm(
    func=mdp.feet_distance,
    weight=-10.0,  # ä» -100 â†’ -10.0ï¼ˆæŠ˜ä¸­æ–¹æ¡ˆï¼‰
    params={
        "min_feet_distance": 0.115,
        "feet_links_name": ["foot_[RL]_Link"]
    }
)
```

##### å…¶ä»–æƒ©ç½šï¼ˆä¿æŒåŸå€¼ï¼‰
```python
# ä»¥ä¸‹æƒ©ç½šé¡¹ä¿æŒåŸé…ç½®ä¸å˜
pen_lin_vel_z = RewTerm(func=mdp.lin_vel_z_l2, weight=-0.5)
pen_joint_torque = RewTerm(func=mdp.joint_torques_l2, weight=-0.00008)
pen_joint_accel = RewTerm(func=mdp.joint_acc_l2, weight=-2.5e-07)
pen_joint_pos_limits = RewTerm(func=mdp.joint_pos_limits, weight=-2.0)
pen_joint_vel_l2 = RewTerm(func=mdp.joint_vel_l2, weight=-1e-03)
pen_joint_powers = RewTerm(func=mdp.joint_powers_l1, weight=-5e-04)
pen_undesired_contacts = RewTerm(func=mdp.undesired_contacts, weight=-0.5, params={...})
pen_feet_regulation = RewTerm(func=mdp.feet_regulation, weight=-0.1, params={...})
foot_landing_vel = RewTerm(func=mdp.foot_landing_vel, weight=-0.5, params={...})
```

---

#### 2. å¤–åŠ›é…ç½®è°ƒæ•´ï¼ˆEventsCfgç±»ï¼‰

```python
push_robot = EventTerm(
    func=mdp.apply_external_force_torque_stochastic,
    mode="interval",
    interval_range_s=(4.0, 6.0),  # ä» (5.0, 10.0) â†’ (4.0, 6.0)ï¼Œæ›´é¢‘ç¹
    params={
        "asset_cfg": SceneEntityCfg("robot", body_names="base_Link"),
        "force_range": {
            "x": (-700.0, 700.0),  # ä» 600 â†’ 700N
            "y": (-700.0, 700.0),
            "z": (-0.0, 0.0),
        },
        "torque_range": {
            "x": (-70.0, 70.0),   # ä» 60 â†’ 70Nâ‹…m
            "y": (-70.0, 70.0),
            "z": (-0.0, 0.0)
        },
        "probability": 0.5,  # ä» 0.3 â†’ 0.5ï¼Œæ›´é¢‘ç¹æ–½åŠ å¤–åŠ›
    },
    is_global_time=False,
    min_step_count_between_reset=0,
)
```

---

### é…ç½®å¯¹æ¯”æ€»ç»“

| é¡¹ç›® | åŸé…ç½® | ä»»åŠ¡2.3é…ç½® | è¯´æ˜ |
|------|--------|------------|------|
| **å¥–åŠ±æƒé‡** ||||
| `rew_lin_vel_xy` | 8.0 | **4.0** | é™ä½é€Ÿåº¦è·Ÿè¸ªä¼˜å…ˆçº§ |
| `rew_ang_vel_z` | 4.0 | **2.0** | åŒä¸Š |
| `pen_flat_orientation` | -10.0 | **-15.0** | â­ å¼ºåŒ–å§¿æ€ç¨³å®š |
| `pen_ang_vel_xy` | -0.05 | **-0.1** | â­ é™åˆ¶ç¿»æ»š |
| `pen_base_height` | -20.0 | **-15.0** | é€‚ä¸­è°ƒæ•´ |
| `pen_feet_distance` | -100 | **-10.0** | ğŸ”¥ é˜²æ­¢è®­ç»ƒå´©æºƒ |
| `pen_action_rate` | -0.005 | **-0.002** | å…è®¸å¿«é€Ÿååº” |
| `pen_action_smoothness` | -0.005 | **-0.002** | åŒä¸Š |
| **å¤–åŠ›é…ç½®** ||||
| `push_robot.interval` | (5,10)s | **(4,6)s** | æ›´é¢‘ç¹æ¨åŠ› |
| `push_robot.probability` | 0.3 | **0.5** | æé«˜è§¦å‘ç‡ |
| `push_robot.force` | 600N | **700N** | å¢å¼ºå¤–åŠ› |
| `push_robot.torque` | 60Nâ‹…m | **70Nâ‹…m** | å¢å¼ºåŠ›çŸ© |

**æ³¨**ï¼šå…¶ä»–å°æƒ©ç½šé¡¹ï¼ˆ`pen_joint_torque`, `pen_joint_accel`, `pen_undesired_contacts` ç­‰ï¼‰ä¿æŒåŸé…ç½®ä¸å˜ã€‚

---

### è®­ç»ƒå»ºè®®

1. **æ¸…ç†æ—§æ—¥å¿—**ï¼ˆå¯é€‰ï¼‰
   ```bash
   rm -rf logs/rsl_rl/pf_tron_1a_flat/
   ```

2. **å¯åŠ¨è®­ç»ƒ**ï¼ˆ3000è¿­ä»£ï¼‰
   ```bash
   nohup python scripts/rsl_rl/train.py \
       --task Isaac-Limx-PF-Blind-Flat-v0 \
       --headless \
       --num_envs 4096 \
       --iterations 3000 \
       > task23_train_$(date +%Y%m%d_%H%M%S).log 2>&1 &
   
   echo $! > train_pid.txt
   ```

3. **ç›‘æ§è®­ç»ƒ**
   ```bash
   # å®æ—¶æŸ¥çœ‹æ—¥å¿—
   tail -f task23_train_*.log
   
   # å¯åŠ¨ Tensorboardï¼ˆå¯é€‰ï¼‰
   tensorboard --logdir logs/rsl_rl --port 6006 --host 0.0.0.0
   ```

4. **å…³æ³¨æŒ‡æ ‡**
   - Episode Rewardï¼šåº”åœ¨ 0-15 èŒƒå›´å†…æ³¢åŠ¨
   - æœºå™¨äººè¡Œä¸ºï¼šè¢«æ¨åèƒ½å¿«é€Ÿè°ƒæ•´å§¿æ€ï¼Œå…è®¸æš‚æ—¶åç¦»é€Ÿåº¦æŒ‡ä»¤
   - è®­ç»ƒæ—¶é•¿ï¼šé¢„è®¡ 2-4 å°æ—¶ï¼ˆå–å†³äº GPUï¼‰

5. **æµ‹è¯•æŠ—å¹²æ‰°**
   ```bash
   python scripts/rsl_rl/play.py \
       --task Isaac-Limx-PF-Blind-Flat-Demo-v0 \
       --num_envs 4 \
       --video \
       --video_length 1000
   ```

---

### é¢„æœŸæ•ˆæœ

- âœ… è®­ç»ƒæ›²çº¿å¹³ç¨³ï¼Œä¸ä¼šåœ¨2000+è¿­ä»£å´©æºƒ
- âœ… æœºå™¨äººè¢«æ¨åèƒ½å¿«é€Ÿæ¢å¤å¹³è¡¡ï¼Œä¸ä¼šç«‹å³æ‘”å€’
- âœ… åœ¨ä¿æŒä¸€å®šé€Ÿåº¦è·Ÿè¸ªèƒ½åŠ›çš„åŒæ—¶ï¼Œä¼˜å…ˆä¿è¯å§¿æ€ç¨³å®šæ€§
- âœ… æ‰¿å—å¤–åŠ›èƒ½åŠ›ï¼šç›®æ ‡ â‰¥700N ç¬æ—¶æ¨åŠ›
- âœ… 3000è¿­ä»£ååº”èƒ½çœ‹åˆ°æ˜æ˜¾çš„æŠ—å¹²æ‰°èƒ½åŠ›

---

### åç»­ä¼˜åŒ–æ–¹å‘

å¦‚æœ3000è¿­ä»£åæ•ˆæœè‰¯å¥½ï¼Œå¯ä»¥ï¼š
1. ç»§ç»­è®­ç»ƒåˆ° 5000-8000 è¿­ä»£ï¼Œè¿›ä¸€æ­¥æå‡æ€§èƒ½
2. é€æ­¥å¢åŠ  `pen_flat_orientation` åˆ° -20.0ï¼ˆå¢å¼ºå§¿æ€æ§åˆ¶ï¼‰
3. å¢åŠ å¤–åŠ›åˆ° 800-1000Nï¼ˆæµ‹è¯•æé™é²æ£’æ€§ï¼‰
4. æé«˜å¤–åŠ›è§¦å‘æ¦‚ç‡åˆ° 0.6-0.7

å¦‚æœ3000è¿­ä»£åä»ä¸ç¨³å®šï¼š
1. é™ä½å­¦ä¹ ç‡åˆ° `5e-4` æˆ– `3e-4`
2. é™ä½å¤–åŠ›åˆ° 500-600Nï¼Œå…ˆè®­ç»ƒç¨³å®šå†é€æ­¥å¢å¼º

---

## 02 - å¤–åŠ›ä¸é²æ£’æ€§ç»¼åˆä¼˜åŒ–ï¼ˆ2026-01-07ï¼‰

### é—®é¢˜å‘ç°

**è®­ç»ƒç»“æœ**ï¼š
- è¿­ä»£2265æ—¶å› æ•°å€¼ä¸ç¨³å®šå´©æºƒï¼ˆValue lossçˆ†ç‚¸ â†’ NaNï¼‰
- ä½†å‰2200è¿­ä»£è¡¨ç°ä¼˜ç§€ï¼šMean rewardè¾¾åˆ°140+ï¼ŒEpisode lengthæ¥è¿‘1000æ­¥

**æµ‹è¯•é—®é¢˜**ï¼š
- ä½¿ç”¨è¿­ä»£2200çš„æ¨¡å‹æµ‹è¯•ä»»åŠ¡2.3æ—¶ï¼Œæœºå™¨äººè¢«700Næ¨åŠ›**ç›´æ¥è¸¢é£**
- åç»­æµ‹è¯•ä¸­350Næ¨åŠ›ä»ç„¶å¯¼è‡´æœºå™¨äººå€’åœ°
- 700Næ¨åŠ›å¯¹10kgæœºå™¨äºº â‰ˆ 70 m/sÂ² â‰ˆ 7å€é‡åŠ›åŠ é€Ÿåº¦ï¼Œè¿‡äºæç«¯

### æ ¹æœ¬åŸå› åˆ†æ

1. **å¤–åŠ›å¼ºåº¦è¿‡å¤§**ï¼š
   - 700Nå¯¹å°å‹åŒè¶³æœºå™¨äººæ˜¯"è½¦ç¥¸çº§åˆ«"å†²å‡»
   - å­¦æœ¯ç•Œæ ‡å‡†ï¼š10kgçº§æœºå™¨äººæŠ—å¹²æ‰°æµ‹è¯•é€šå¸¸ä¸º200-400N
   - å½“å‰é…ç½®è¶…å‡ºåˆç†ç‰©ç†åœºæ™¯

2. **å§¿æ€æ§åˆ¶æƒé‡ä¸è¶³**ï¼š
   - æœºå™¨äººè¢«æ¨åæ— æ³•å¿«é€Ÿæ¢å¤å¹³è¡¡å§¿æ€
   - éœ€è¦æ›´å¼ºçš„å§¿æ€ç¨³å®šæ€§å’Œé«˜åº¦ç»´æŒæƒ©ç½š

3. **è®­ç»ƒä¸æµ‹è¯•çŸ›ç›¾**ï¼š
   - è®­ç»ƒæ—¶å¤–åŠ›è§¦å‘å°‘ï¼ˆå¹³å‡æ¯episode 2-3æ¬¡ï¼‰
   - æ¨¡å‹ä¸»è¦å­¦ä¹ "æ­£å¸¸è¡Œèµ°"ï¼ŒæŠ—å¹²æ‰°æ ·æœ¬ä¸è¶³
   - 700Næ¨åŠ›å³ä½¿è®­ç»ƒæ—¶é‡åˆ°ä¹Ÿéš¾ä»¥æ¢å¤

4. **é€Ÿåº¦è·Ÿè¸ª vs æŠ—å¹²æ‰°çš„å¹³è¡¡**ï¼š
   - ä»»åŠ¡2.2éœ€è¦ç¨³å®šç¯å¢ƒä¸“æ³¨é€Ÿåº¦æ§åˆ¶
   - ä»»åŠ¡2.3éœ€è¦é¢‘ç¹æ‰°åŠ¨å­¦ä¹ å¹³è¡¡æ¢å¤
   - å¦‚æœå¤–åŠ›è¿‡é¢‘ï¼Œä¼šç‰ºç‰²é€Ÿåº¦è·Ÿè¸ªæ€§èƒ½

### è§£å†³æ–¹æ¡ˆï¼šå¤–åŠ›é™ä½ + é²æ£’æ€§å¢å¼º + ä¼˜å…ˆçº§è°ƒæ•´

#### æ ¸å¿ƒç­–ç•¥
- âœ… **é™ä½å¤–åŠ›å¼ºåº¦**ï¼šä¿è¯ç‰©ç†åˆç†æ€§ï¼ˆ700N â†’ 300Nï¼‰
- âœ… **æé«˜å¤–åŠ›é¢‘ç‡**ï¼šå¢åŠ æŠ—å¹²æ‰°è®­ç»ƒæ ·æœ¬ï¼ˆprobability: 0.5 â†’ 0.6ï¼‰
- âœ… **å¼ºåŒ–å§¿æ€æ§åˆ¶**ï¼šå¢åŠ å¹³è¡¡æ€§ç›¸å…³æƒ©ç½šæƒé‡
- âœ… **é€‚å½“é™ä½é€Ÿåº¦æƒé‡**ï¼šä¼˜å…ˆä¿è¯å¹³è¡¡ï¼Œå†è¿½æ±‚é€Ÿåº¦ï¼ˆ3.5/1.5ï¼‰
- âœ… **ä¸€æ¬¡è®­ç»ƒæ»¡è¶³ä¸¤ä¸ªä»»åŠ¡**ï¼šå¹³è¡¡é€Ÿåº¦è·Ÿè¸ªä¸æŠ—å¹²æ‰°èƒ½åŠ›

---

### å…·ä½“é…ç½®ä¿®æ”¹

#### 1. å¤–åŠ›é…ç½®è°ƒæ•´ï¼ˆEventsCfgï¼Œç¬¬377-399è¡Œï¼‰

```python
push_robot = EventTerm(
    func=mdp.apply_external_force_torque_stochastic,
    mode="interval",
    interval_range_s=(4.0, 6.0),  # ä¿æŒä¸å˜ï¼ˆä¸å½±å“é€Ÿåº¦è®­ç»ƒï¼‰
    params={
        "asset_cfg": SceneEntityCfg("robot", body_names="base_Link"),
        "force_range": {
            "x": (-300.0, 300.0),  # ä» 700N â†’ 300Nï¼ˆé™ä½57%ï¼‰
            "y": (-300.0, 300.0),
        },
        "torque_range": {
            "x": (-35.0, 35.0),    # ä» 70Nâ‹…m â†’ 35Nâ‹…mï¼ˆé™ä½50%ï¼‰
            "y": (-35.0, 35.0),
        },
        "probability": 0.6,  # ä» 0.5 â†’ 0.6ï¼ˆæé«˜20%ï¼Œå¢åŠ æŠ—å¹²æ‰°è®­ç»ƒé¢‘ç‡ï¼‰
    },
    is_global_time=False,
    min_step_count_between_reset=0,
)
```

#### 2. é²æ£’æ€§æƒé‡å¢å¼ºï¼ˆRewardsCfgç±»ï¼‰

```python
# å¼ºåŒ–å§¿æ€ç¨³å®šæ€§
pen_flat_orientation = RewTerm(
    func=mdp.flat_orientation_l2,
    weight=-20.0  # ä» -15.0 â†’ -20.0ï¼Œå¼ºçƒˆæƒ©ç½šå§¿æ€å€¾æ–œ
)

# å¼ºåŒ–é«˜åº¦ç»´æŒ
pen_base_height = RewTerm(
    func=mdp.base_com_height,
    params={"target_height": 0.78},
    weight=-20.0  # ä» -15.0 â†’ -20.0ï¼Œå¿«é€Ÿæ¢å¤ç«™ç«‹é«˜åº¦
)

# å¼ºåŒ–ç¿»æ»šé™åˆ¶
pen_ang_vel_xy = RewTerm(
    func=mdp.ang_vel_xy_l2,
    weight=-0.15  # ä» -0.1 â†’ -0.15ï¼Œé™åˆ¶roll/pitchæ—‹è½¬
)
```

**é€Ÿåº¦è·Ÿè¸ªï¼ˆé€‚å½“é™ä½ï¼Œä¼˜å…ˆä¿è¯å¹³è¡¡ï¼‰**ï¼š
```python
rew_lin_vel_xy = RewTerm(
    func=mdp.track_lin_vel_xy_exp,
    weight=3.5,  # ä» 4.0 â†’ 3.5
    params={"command_name": "base_velocity", "std": math.sqrt(0.2)}
)

rew_ang_vel_z = RewTerm(
    func=mdp.track_ang_vel_z_exp,
    weight=1.5,  # ä» 2.0 â†’ 1.5
    params={"command_name": "base_velocity", "std": math.sqrt(0.2)}
)
```

**å¤–åŠ›æ¦‚ç‡æå‡ï¼ˆå¢åŠ æŠ—å¹²æ‰°è®­ç»ƒæ ·æœ¬ï¼‰**ï¼š
```python
push_robot.params["probability"] = 0.6  # ä» 0.5 â†’ 0.6
```

**å…¶ä»–å¥–åŠ±æƒé‡ä¿æŒä¸å˜**ï¼š
```python
# å¿«é€Ÿååº”ï¼ˆå·²åœ¨01ç‰ˆè°ƒæ•´ï¼‰
pen_action_rate.weight = -0.002
pen_action_smoothness.weight = -0.002

# å…¶ä»–æƒ©ç½šä¿æŒåŸå€¼
pen_lin_vel_z.weight = -0.5
pen_joint_torque.weight = -0.00008
pen_joint_accel.weight = -2.5e-07
pen_feet_distance.weight = -10.0
# ...
```

---

### é…ç½®å¯¹æ¯”æ€»ç»“

| é¡¹ç›® | 01ç‰ˆé…ç½® | 02ç‰ˆé…ç½® | å˜åŒ– | ç†ç”± |
|------|---------|---------|------|------|
| **å¤–åŠ›é…ç½®** ||||
| `push_robot.force` | 700N | **300N** | â†“ 57% | æ›´åˆç†çš„ç‰©ç†å¼ºåº¦ |
| `push_robot.torque` | 70Nâ‹…m | **35Nâ‹…m** | â†“ 50% | åŒ¹é…åŠ›çš„é™ä½ |
| `push_robot.interval` | (4,6)s | **(4,6)s** | ä¸å˜ | ä¿æŒè®­ç»ƒå¹³è¡¡ |
| `push_robot.probability` | 0.5 | **0.6** | â†‘ 20% | â­ å¢åŠ æŠ—å¹²æ‰°è®­ç»ƒé¢‘ç‡ |
| **é²æ£’æ€§æƒé‡** ||||
| `pen_flat_orientation` | -15.0 | **-20.0** | â†‘ 33% | â­ å¼ºåŒ–å§¿æ€ç¨³å®š |
| `pen_base_height` | -15.0 | **-20.0** | â†‘ 33% | â­ å¼ºåŒ–é«˜åº¦ç»´æŒ |
| `pen_ang_vel_xy` | -0.1 | **-0.15** | â†‘ 50% | â­ é™åˆ¶ç¿»æ»š |
| **é€Ÿåº¦è·Ÿè¸ª** ||||
| `rew_lin_vel_xy` | 4.0 | **3.5** | â†“ 12.5% | é™ä½é€Ÿåº¦ä¼˜å…ˆçº§ï¼Œä¼˜å…ˆä¿è¯å¹³è¡¡ |
| `rew_ang_vel_z` | 2.0 | **1.5** | â†“ 25% | åŒä¸Š |

### ç‰©ç†å¼ºåº¦åˆ†æ

| æ¨åŠ› | åŠ é€Ÿåº¦ | ç›¸å½“äº | è¯„ä»· |
|------|--------|--------|------|
| 700N | 70 m/sÂ² | 7g | âŒ è½¦ç¥¸çº§åˆ«ï¼Œä¸åˆç† |
| 500N | 50 m/sÂ² | 5g | âš ï¸ æç«¯å†²å‡»ï¼Œåå¤§ |
| 350N | 35 m/sÂ² | 3.5g | âš ï¸ ä¸­ç­‰åå¼ºï¼Œæµ‹è¯•ä¸­ä»æ¨å€’ |
| **300N** | **30 m/sÂ²** | **3g** | âœ… **ä¸­ç­‰å¼ºåº¦ï¼Œåˆç†** |
| 200N | 20 m/sÂ² | 2g | âš ï¸ åè½»ï¼ŒæŒ‘æˆ˜æ€§ä¸è¶³ |

**å­¦æœ¯ç•Œå‚è€ƒ**ï¼š
- Boston Dynamics Atlas (75kg)æ¢ç®—ï¼š70-110Nç­‰æ•ˆ
- Unitree H1 (47kg)æ¢ç®—ï¼š60-100Nç­‰æ•ˆ
- å­¦æœ¯è®ºæ–‡æ ‡å‡†ï¼ˆ10kgçº§ï¼‰ï¼š200-350Nä¸ºä¸­åº¦åˆ°é‡åº¦æµ‹è¯•

---

### é‡è¦è¯´æ˜

#### Demoç¯å¢ƒé…ç½®
- Demoç¯å¢ƒï¼ˆ`Isaac-Limx-PF-Blind-Flat-Demo-v0`ï¼‰ç»§æ‰¿åŸºç¡€é…ç½®çš„å¤–åŠ›å¤§å°
- Demoç‰¹æ®Šè®¾ç½®ï¼š
  - é—´éš”ï¼š2-3ç§’ï¼ˆæ›´é¢‘ç¹å±•ç¤ºï¼‰
  - æ¦‚ç‡ï¼š90%ï¼ˆå‡ ä¹æ¯æ¬¡éƒ½æ¨ï¼‰
  - **åŠ›å¤§å°ï¼š300N**ï¼ˆä¸è®­ç»ƒç¯å¢ƒä¸€è‡´ï¼‰

#### å…³äºè·³è·ƒç­–ç•¥çš„è¯´æ˜
**ç”¨æˆ·é—®é¢˜**ï¼šæœºå™¨äººèƒ½å¦é€šè¿‡è·³è·ƒï¼ˆé«˜åº¦å˜åŒ–ã€è¶³éƒ¨å¿«é€Ÿä¼¸ç¼©ï¼‰æ¥ä¿æŒæ°´å¹³ç¨³å®šæ€§ï¼Ÿ

**å›ç­”ï¼šä¸å»ºè®®ï¼Œä¸”å½“å‰é…ç½®é˜»æ­¢è·³è·ƒè¡Œä¸º**

åŸå› ï¼š
1. å½“å‰æƒ©ç½šé¡¹`pen_base_height = -20.0`å’Œ`pen_lin_vel_z = -0.5`å¼ºåˆ¶æœºå™¨äººä¿æŒæ’å®šé«˜åº¦
2. Point Footæœºå™¨äººæ¥åœ°é¢ç§¯å°ï¼Œè·³è·ƒæ—¶åŒè„šç¦»åœ°ä¼šå¤±å»æ”¯æ’‘ï¼Œæ›´å®¹æ˜“ç¿»å€’
3. å­¦æœ¯ç•ŒPoint Footç ”ç©¶ä¸»è¦é å¿«é€Ÿæ­¥æ€è°ƒæ•´ï¼Œè€Œéè·³è·ƒ
4. å¯ç”¨è·³è·ƒéœ€è¦å¤§å¹…é™ä½é«˜åº¦æƒ©ç½šï¼Œä½†é£é™©æé«˜

#### å…³äºä¸¤é˜¶æ®µè®­ç»ƒçš„è¯´æ˜
**ç”¨æˆ·é—®é¢˜**ï¼šå¦‚æœå…ˆè®­ç»ƒé€Ÿåº¦è·Ÿè¸ªï¼ŒåæœŸå¢åŠ é²æ£’æ€§æƒé‡ï¼Œä¼šå½±å“å‰æœŸçš„é€Ÿåº¦è·Ÿè¸ªå—ï¼Ÿ

**å›ç­”ï¼šä¼šï¼è¿™å«"ç¾éš¾æ€§é—å¿˜"ï¼ˆCatastrophic Forgettingï¼‰ï¼Œä¸å»ºè®®åˆ†é˜¶æ®µè®­ç»ƒ**

åŸå› ï¼š
1. æ”¹å˜å¥–åŠ±æƒé‡ = æ”¹å˜ä¼˜åŒ–æ–¹å‘
2. æ–°æ–¹å‘çš„æ¢¯åº¦æ›´æ–°ä¼šè¦†ç›–æ—§æ–¹å‘çš„ç½‘ç»œæƒé‡
3. PPOæ²¡æœ‰æœºåˆ¶ä¿æŠ¤ä¹‹å‰å­¦åˆ°çš„é€Ÿåº¦è·Ÿè¸ªèƒ½åŠ›
4. **æ­£ç¡®åšæ³•**ï¼šä»ä¸€å¼€å§‹å°±ç”¨å¹³è¡¡é…ç½®ï¼ˆå½“å‰æ–¹æ¡ˆï¼šé€Ÿåº¦æƒé‡é€‚ä¸­ + é²æ£’æ€§æƒé‡å¢å¼ºï¼‰

---

### é¢„æœŸæ•ˆæœ

**é€Ÿåº¦è·Ÿè¸ªï¼ˆä»»åŠ¡2.2ï¼‰**ï¼š
- çº¦75-80%è®­ç»ƒæ—¶é—´ç”¨äºé€Ÿåº¦æ§åˆ¶ï¼ˆprobability=0.6ï¼Œç•¥å°‘äºä¹‹å‰ï¼‰
- é¢„æœŸé€Ÿåº¦è¯¯å·®ï¼š0.4-0.6 m/sï¼ˆç›¸æ¯”ä¹‹å‰ç•¥æœ‰æ”¾å®½ï¼‰
- Episodeå®Œæˆç‡ï¼š>85%
- **æƒè¡¡ç­–ç•¥**ï¼šç•¥å¾®ç‰ºç‰²é€Ÿåº¦è·Ÿè¸ªç²¾åº¦ï¼Œæ¢å–æ˜¾è‘—æå‡çš„é²æ£’æ€§

**æŠ—å¹²æ‰°ï¼ˆä»»åŠ¡2.3ï¼‰**ï¼š
- æ‰¿å—300Næ¨åŠ›ä¸å€’
- è¢«æ¨å1-2æ­¥å†…æ¢å¤æ­¥æ€
- å§¿æ€æ§åˆ¶æ›´å¼ºï¼Œå¿«é€Ÿæ¢å¤å¹³è¡¡
- è®­ç»ƒæ ·æœ¬å¢åŠ 20%ï¼ˆprobability: 0.5 â†’ 0.6ï¼‰ï¼Œå­¦ä¹ æ›´å……åˆ†
- ç¬¦åˆå­¦æœ¯æ ‡å‡†çš„ä¸­ç­‰å¼ºåº¦æµ‹è¯•

**è®­ç»ƒç¨³å®šæ€§**ï¼š
- é¿å…æ•°å€¼çˆ†ç‚¸ï¼ˆé…åˆä¿å®ˆçš„å­¦ä¹ ç‡ï¼‰
- é¢„è®¡3000è¿­ä»£é¡ºåˆ©å®Œæˆ
- Mean reward å¯èƒ½ç¨ä½ï¼ˆ8-15èŒƒå›´ï¼‰ï¼Œå› ä¸ºé²æ£’æ€§æƒé‡å¢å¼ºä¸”å¤–åŠ›æ›´é¢‘ç¹

---

### è®­ç»ƒå»ºè®®

```bash
# ä½¿ç”¨02ç‰ˆé…ç½®è®­ç»ƒ
nohup python scripts/rsl_rl/train.py \
    --task Isaac-Limx-PF-Blind-Flat-v0 \
    --headless \
    --num_envs 4096 \
    --iterations 3000 \
    > task23_train_v2_$(date +%Y%m%d_%H%M%S).log 2>&1 &

echo $! > train_pid.txt
```

### åç»­ä¼˜åŒ–

å¦‚æœ3000è¿­ä»£åæ•ˆæœä¼˜ç§€ï¼Œå¯é€‰ï¼š
1. ç»§ç»­è®­ç»ƒåˆ°5000è¿­ä»£ï¼Œè¿›ä¸€æ­¥æå‡æ€§èƒ½
2. æµ‹è¯•æ›´é«˜å¼ºåº¦ï¼ˆ350-400Nï¼‰çš„æé™é²æ£’æ€§
3. è¿›ä¸€æ­¥å¢å¼ºå§¿æ€æ§åˆ¶ï¼ˆ`pen_flat_orientation = -25.0`ï¼‰
4. é™ä½å­¦ä¹ ç‡ï¼ˆ5e-4ï¼‰å¹¶å¢åŠ å¤–åŠ›é¢‘ç‡ï¼ˆprobability=0.6ï¼‰

å¦‚æœé²æ£’æ€§ä»ä¸è¶³ï¼š
1. è¿›ä¸€æ­¥é™ä½é€Ÿåº¦è·Ÿè¸ªæƒé‡åˆ°3.0/1.5
2. å¢åŠ æ›´å¤šå§¿æ€ç›¸å…³å¥–åŠ±ï¼ˆå¦‚è¶³éƒ¨æ¥è§¦ç¨³å®šæ€§ï¼‰
3. å»¶é•¿è®­ç»ƒåˆ°5000-8000è¿­ä»£

## 03 ä¿®æ”¹é€Ÿåº¦æƒé‡ä¸Šé¢ä¸è¡Œ

âº Update(exts/bipedal_locomotion/bipedal_locomotion/tasks/locomotion/cfg/PF/limx_base_env_cfg.py)
  â¿  Added 4 lines, removed 4 lines
      411
      412      # tracking related rewards
      413      rew_lin_vel_xy = RewTerm(
      414 -        func=mdp.track_lin_vel_xy_exp, weight=3.5, params={"command_name": "base_velocity", "std": math.sqrt(0.2)}
      415 -    ) # ä»4.0 â†’ 3.5ï¼Œé€‚å½“é™ä½ä¼˜å…ˆçº§


      414 +        func=mdp.track_lin_vel_xy_exp, weight=6.0, params={"command_name": "base_velocity", "std": math.sqrt(0.2)}
      415 +    ) # ä»3.5 â†’ 6.0ï¼Œæå‡é€Ÿåº¦è·Ÿè¸ªä¼˜å…ˆçº§ï¼ˆä»»åŠ¡2.2æ ¸å¿ƒæŒ‡æ ‡ï¼‰


      416      rew_ang_vel_z = RewTerm(
      417 -        func=mdp.track_ang_vel_z_exp, weight=1.5, params={"command_name": "base_velocity", "std": math.sqrt(0.2)}
      418 -    ) # ä»2.0 â†’ 1.5
      417 +        func=mdp.track_ang_vel_z_exp, weight=3.0, params={"command_name": "base_velocity", "std": math.sqrt(0.2)}
      418 +    ) # ä»1.5 â†’ 3.0ï¼Œå¼ºåŒ–è½¬å‘æ§åˆ¶


      419
      420      # è°ƒèŠ‚ç›¸å…³å¥–åŠ± / Regulation-related rewards


      421      pen_base_height = RewTerm(

âº Update(exts/bipedal_locomotion/bipedal_locomotion/tasks/locomotion/cfg/PF/limx_base_env_cfg.py)
  â¿  Added 1 line, removed 1 line
      421      pen_base_height = RewTerm(
      422          func=mdp.base_com_height,                   # åŸºåº§é«˜åº¦æƒ©ç½š / Base height penalty


      423          params={"target_height": 0.78},            # ç›®æ ‡é«˜åº¦ 78cm / Target height 78cm


      424 -        weight=-20.0,                               # è´Ÿæƒé‡è¡¨ç¤ºæƒ©ç½š / Negative weight indicates penalty


      424 +        weight=-18.0,                               # ä»-20.0 â†’ -18.0ï¼Œé€‚å½“é™ä½ä»¥å¹³è¡¡é€Ÿåº¦è·Ÿè¸ª


      425      )
      426
      427      # å…³èŠ‚ç›¸å…³æƒ©ç½š / Joint-related penalties



âº Update(exts/bipedal_locomotion/bipedal_locomotion/tasks/locomotion/cfg/PF/limx_base_env_cfg.py)
  â¿  Added 1 line, removed 1 line
      450      )
      451      pen_flat_orientation = RewTerm(
      452          func=mdp.flat_orientation_l2,               # å¹³å¦æœå‘L2æƒ©ç½š / Flat orientation L2 penalty


      453 -        weight=-20.0
      453 +        weight=-18.0                                 # ä»-20.0 â†’ -18.0ï¼Œå¹³è¡¡é€Ÿåº¦ä¸ç¨³å®šæ€§


      454      )
      455      pen_feet_distance = RewTerm(
      456          func=mdp.feet_distance,                     # è¶³éƒ¨è·ç¦»æƒ©ç½š / Foot distance penalty
